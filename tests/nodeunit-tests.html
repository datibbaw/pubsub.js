<html>
  <head>
    <title>Node-Unit Test Suite</title>
    <script src="../lib/nodeunit.js"></script>

    <!-- poor man commonjs setup *barf* -->
    <script>
      var test_suites = {}, seq = 0, undef = (function(undefined){return undefined})();
    </script>

    <!-- before/after actions are done for each test suite :/ -->
    <script>
      var module = {exports:{}}, exports = module.exports
    </script>
    <script src="./nodeunit-tests.js"></script>
    <script>
      test_suites['suite_' + (++seq)] = module.exports;

      // assignment to undefined because delete does not work in this case
      module = undef;
      exports = undef;
    </script>

    <!-- and finaly, we load the pubsub lib! -->
    <script type="text/javascript" src="../src/pubsub.js"></script>

  </head>
  <body>
    <h1 id="nodeunit-header">PubSub Test Suite</h1>
    <script>
      nodeunit.run( test_suites );
    </script>
  </body>
</html>